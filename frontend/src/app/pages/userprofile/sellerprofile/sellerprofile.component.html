<div class="wrapper">
  <div class="page-header page-header-small" filter-color="orange">

    <!-- Profile Banner -->
    <div class="page-header-image rellax-header" data-rellax-speed="-8"
      style="background-image: url('assets/img/bg5.jpg') ;">
    </div>

    <div class="container">
      <div class="content-center">
        <div class="mt-5">
          <!--Profile Image-->
          <div class="photo-container">
            <img *ngIf="current_user?.profileImage" alt="Thumbnail Image" class="rounded-circle img-raised w-25 p-3"
              (click)="[open(changeProfPic,'' , '')]" src="http://localhost:3000/{{current_user?.profileImage}}">
          </div>
          <div class="photo-container">
            <img *ngIf="!current_user?.profileImage" alt="Thumbnail Image" class="rounded-circle img-raised w-25 p-3"
              (click)="[open(changeProfPic,'' , '')]"
              src="https://avatarsed1.serversdev.getgo.com/2205256774854474505_medium.jpg">
          </div>
          <!--/Profile Image-->
          <h2>{{current_user?.username}}</h2>
        </div>
        <div class="row justify-content-center">
          <div class="social-description">
            <a class="btn btn-primary btn-lg" routerLink="/userprofile/selling">Selling</a>
          </div>&nbsp;
          <div class="social-description">
            <a href="#button" class="btn btn-primary btn-lg">Sales History</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-2">
          <div class="card text-center" style=" width: 70rem;">
            <h3>Ratings</h3>
            <div class="col-md-12">
              <div class="row">

                <!-- Ratings and Reviews -->
                <div class="section">
                  <div class="container">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="row">
                          <h3>Ratings and Reviews</h3>
                          <a _ngcontent-c2="" class="btn btn-simple btn-primary btn-round ml-lg-auto"
                            routerLink="/userprofile/RatingsComponent">View
                            More</a>
                        </div>
                        <div class="col-xs-12 col-md-6">
                          <div class="well well-sm">
                            <div class="row">
                              <div class="col-xs-12 col-md-6 text-center">
                                <h1 class="rating-num">
                                  {{this.highestRate | number:'1.0-0'}}</h1>
                                  <div class="stars">
                                    <span class="fa fa-star" id="star1" *ngIf="this.highestRate >= 1" onclick="add(this,1)"></span>
                                    <span class="fa fa-star" id="star1" *ngIf="this.highestRate >= 2" onclick="add(this,1)"></span>
                                    <span class="fa fa-star" id="star1" *ngIf="this.highestRate >= 3" onclick="add(this,1)"></span>
                                    <span class="fa fa-star" id="star1" *ngIf="this.highestRate >= 4" onclick="add(this,1)"></span>
                                    <span class="fa fa-star" id="star1" *ngIf="this.highestRate >= 5" onclick="add(this,1)"></span>
                                    </div>
                                 

                                <div>
                                  <span class="glyphicon glyphicon-user"></span>{{this.totalRates}} total
                                </div>
                              </div>
                              <div class="col-xs-12 col-md-6">
                                <div class="row rating-desc">
                                  <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>5
                                  </div>
                                  <div class="col-xs-8 col-md-9">
                                    <div class="progress progress-striped">
                                      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100"  [ngStyle]="{'width.%':this.starFivePer }">

                                        <span class="sr-only">{{this.starFivePer}}%</span>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- end 5 -->
                                  <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>4
                                  </div>
                                  <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width.%':this.starFourPer }">

                                        <span class="sr-only">{{this.starFourPer}}%</span>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- end 4 -->
                                  <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>3
                                  </div>
                                  <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                      <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width.%':this.starThreePer }">

                                        <span class="sr-only">{{this.starThreePer}}%</span>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- end 3 -->
                                  <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>2
                                  </div>
                                  <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                      <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width.%':this.starTwoPer }">

                                        <span class="sr-only">{{this.starTwoPer}}%</span>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- end 2 -->
                                  <div class="col-xs-3 col-md-3 text-right">
                                    <span class="glyphicon glyphicon-star"></span>1
                                  </div>
                                  <div class="col-xs-8 col-md-9">
                                    <div class="progress">
                                      <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'width.%':this.starOnePer }">

                                        <span class="sr-only">{{this.starOnePer}}%</span>
                                      </div>
                                    </div>
                                  </div>

                                  <!-- end 1 -->
                                </div>
                                <!-- end row -->
                              </div>
                            </div>
                          </div>
                        </div>
                         
                        <div class="col-md-10">
                            <form novalidate [formGroup]="replyForm" (ngSubmit)="submitreplyForm()">
                                <div *ngFor="let review of this.reviewlist | slice:1;let index= index  " >
                                    <div class="card card-inner">
                                        <div class="card-body">
                                        <div class="card-body col-xs-8 col-md-8">  
                              <div class="row">
                                <div class="col-md-3">
                                  <img src="https://media5.picsearch.com/is?9wf5djaQEBRqbffZVNXpU4Oidhoc3jV5TzqeBHIFQI8&height=228" alt="Avatar" class="avatar" >
                                   <p class="text-secondary text-center">
                                      {{datelist[index+1]|dateAgo}}  
                                  
                                </div>
                        
                                <div class="col-md-8">
                                  <div class="clearfix"></div>
                                
                                  
                                  {{index+1}})   {{review}}<br>
                                     
                                <a class="float-right btn btn-outline-primary ml-2"name="NIC" NIC="index+1"(click)="onLinkClicked(index+1)" > <i class="fa fa-reply"></i> Reply</a>
                                <div  *ngIf="buttonClicked == index+1">
                                  <br>
                                    Enter your name :- 
                                    <br>
                                    <textarea  formControlName ="name" value="name" rows="1" cols="50" ></textarea>
                                    <br>
                                    Enter your reply :- 
                                    <br>
                                    <textarea  formControlName ="reply" value="reply" rows="4" cols="50" ></textarea>
                                     <div class="row">
                                        <div class="footer text-center">
                                            <a  class="btn btn-primary btn-round btn-lg btn-block" (click)="sendreply()">Submit </a>
                                          </div>
                                        </div>    
                                    </div> 
                                 
                                </div>
                                
                        
                                </div>
                                </div>
                              </div>
                            </div>
                             
                             <div *ngFor="let time of this.timelist | slice:1;let i = index  " >
                              <div *ngIf="index+1 == numlist[i+1]">
                                  <div class="row">
                                      <div class="col-md-5"></div>
                                      <div class="col-md-7" style="margin-left: 100 px"  >
                                <div class="card card-inner">
                                  <div class="card-body">
                                  <div class="card-body col-xs-10 col-md-10">  
                        <div class="row">
                          <div class="col-md-4">
                            <img src="https://media2.picsearch.com/is?4iPVDhEYWF6aUbmZhcDMXxLOzvwhzFuZYej40EfMBH8&height=320 " alt="Avatar" class="avatar">
                             <p class="text-secondary text-center">
                                {{time| dateAgo}} 
                            
                          </div>
                        
                          <div class="col-md-6">
                            <div class="clearfix"></div>
                            
                            <h5>  {{namelist[i+1]}}</h5><br>
                             {{replylist[i+1]}}<br>
                              </div>
                              </div>
                              </div>
                                  </div>
                                </div>
                            </div>
                            </div>
                            </div> 
                            </div>      
                            
                            </div>
                          </form>
                          </div>
                         
                         

                      </div>
                    </div>
                  </div>
                </div>
               
            


  <div class="subscribe-line subscribe-line-transparent" style="background-image: url('assets/img/banner.jpg')">
    <div class="text-center container">

      <div class="row">
        <div class=" col-md-12 col-sm-12">
          <div class="mt-4">
            <h3>My Selling</h3>
          </div>

          <div class="mt-5">
            <div class="container">
              <div class="row">
                <div class="col-md-3 col-sm-2">
                  <div class="card text-center" style=" width: 70rem;">
                    <div class="col-md-12">
                      <!-- Broadcast Table -->
                      <div class="container">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="container">
                              <div class="row">
                                <h3>Selling</h3>
                                <div class="ml-auto">
                                  <a class="btn btn-sm btn-primary btn-lg " routerLink="/userprofile/moreselling">View
                                    More</a> </div>
                              </div>
                            </div>
                            <form>
                              <table class="table table-striped table-hover">
                                <thead class="thead-dark">

                                  <tr>
                                    <th scope="col">Number</th>
                                    <th scope="col" sortable="name" (sort)="onSort($event)">Product</th>
                                    <th scope="col" sortable="area" (sort)="onSort($event)">Message</th>
                                    <th scope="col">View Broadcasts</th>
                                    <th scope="col">Remove</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let x of sellingArray?.selling.slice(0,5)">
                                    <td>{{x._id | slice:-4}}</td>
                                    <a routerLink="/userprofile/sellingitem/{{x._id}}">
                                      <td>{{x.product}}</td>
                                    </a>
                                    <td scope="row">{{x.tags}}</td>
                                    <td scope="row">
                                      <div class="social-description">
                                        <a class="btn btn-primary btn-sm  btn-sm"
                                          routerLink="/userprofile/sellingitem/{{x._id}}"><i
                                            class="now-ui-icons location_world"></i></a>
                                      </div>
                                    </td>
                                    <td>
                                      <div class="social-description">
                                        <a class="btn btn-primary btn-lg  btn-sm" (click)="removeSelling(x._id)"><i
                                            class="now-ui-icons ui-1_simple-remove"></i></a>
                                      </div>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </form>

                          </div>
                        </div>
                      </div>
                      <!-- /Broadcast Table -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <!-- Selling -->
          <div class="mt-5">
            <div class="container">
              <div class="row">
                <div class="col-md-3 col-sm-2">
                  <div class="card text-center" style=" width: 70rem;">
                    <div class="col-md-12">
                      <!-- Broadcast Table -->
                      <div class="container">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="container">
                              <div class="row">

                                <div class="ml-auto">
                                  <a class="btn btn-sm btn-primary btn-lg btn-round"
                                    routerLink="/userprofile/broadcast">View
                                    More</a>
                                </div>
                              </div>
                            </div>

                            <form>
                              <table class="table table-striped">
                                <thead>
                                  <tr>
                                    <th scope="col">ID</th>
                                    <th scope="col" sortable="name" (sort)="onSort($event)">Username</th>
                                    <th scope="col" sortable="area" (sort)="onSort($event)">Product</th>
                                    <th scope="col" sortable="message" (sort)="onSort($event)">Category</th>
                                    <th scope="col" sortable="message" (sort)="onSort($event)">Messages</th>
                                    <th scope="col" sortable="message" (sort)="onSort($event)">Reply</th>
                                    <th scope="col">View User</th>
                                    <th scope="col">Finalize</th>
                                    <th scope="col">Remove</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let x of recievedBroadcasts">
                                    <td>{{x[0].userID}}</td>
                                    <td>{{x[0].username}}</td>
                                    <td scope="row">aaa</td>
                                    <td scope="row">
                                      aaa
                                    </td>
                                    <td scope="row">
                                      aaa
                                    </td>
                                    <td>
                                      <div class="social-description">
                                        <a class="btn btn-primary btn-lg btn-round btn-sm"
                                          routerLink="/userprofile/sellerreplyform/{{x._id}}">R</a>
                                      </div>
                                    </td>
                                    <td>
                                      <div class="social-description">
                                        <a class="btn btn-primary btn-lg btn-round btn-sm"
                                          routerLink="/pages/newcomplain">U</a>
                                      </div>
                                    </td>
                                    <td>
                                      <div class="social-description">
                                        <a class="btn btn-primary btn-lg btn-round btn-sm"
                                          routerLink="/userprofile/finalizingform/{{x._id}}">F</a>
                                      </div>
                                    </td>
                                    <td>
                                      <div class="social-description">
                                        <a href="#button" class="btn btn-primary btn-lg btn-round btn-sm"><i
                                            class="now-ui-icons ui-1_simple-remove"></i></a>
                                      </div>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </form>

                          </div>
                        </div>
                      </div>
                      <!-- /Broadcast Table -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>



  <div class="mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-2">
          <div class="card text-center" style=" width: 70rem;">
            <div class="col-md-12">
              <!-- Broadcast Table -->
              <div class="container">
                <div class="row">
                  <div class="col-md-12">
                    <div class="container">
                      <div class="row">
                        <h3>Selling</h3>
                        <div class="ml-auto">
                          <a class="btn btn-sm btn-primary btn-lg btn-round" routerLink="/userprofile/broadcast">View
                            More</a>
                        </div>
                      </div>
                    </div>
                    <form>
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">Number</th>
                            <th scope="col" sortable="name" (sort)="onSort($event)">Shop Name</th>
                            <th scope="col" sortable="area" (sort)="onSort($event)">Product</th>
                            <th scope="col" sortable="message" (sort)="onSort($event)">Messages</th>
                            <th scope="col">Finalize</th>
                            <th scope="col">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let x of sellingArray?.selling.slice(0,5)">
                            <td>{{x._id | slice:-4}}</td>
                            <td>{{x.product}}</td>
                            <td scope="row">{{x.tags}}</td>
                            <td scope="row">
                              <div class="social-description">
                                <a href="#button" class="btn btn-primary btn-lg btn-round btn-sm"
                                  routerLink="/userprofile/sellerreply">A</a>
                              </div>
                            </td>
                            <td scope="row">
                              <div class="social-description">
                                <a href="#button" class="btn btn-primary btn-lg btn-round btn-sm"><i
                                    class="now-ui-icons ui-1_simple-remove"></i></a>
                              </div>
                            </td>
                            <td>
                              <div class="social-description">
                                <a class="btn btn-primary btn-lg btn-round btn-sm" routerLink="/pages/newcomplain">C</a>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </form>

                  </div>
                </div>
              </div>
              <!-- /Broadcast Table -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-sm-2">
          <div class="card text-center" style=" width: 70rem;">
            <div class="col-md-12">
              <!-- Broadcast Table -->
              <div class="container">
                <div class="row">
                  <div class="col-md-12">
                    <div class="container">
                      <div class="row">
                        <h3>Recent Sales</h3>
                        <div class="ml-auto">
                          <a class="btn btn-sm btn-primary btn-lg btn-round" routerLink="/userprofile/broadcast">View
                            More</a>
                        </div>
                      </div>
                    </div>
                    <form>
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">Number</th>
                            <th scope="col" sortable="name" (sort)="onSort($event)">Shop Name</th>
                            <th scope="col" sortable="area" (sort)="onSort($event)">Product</th>
                            <th scope="col" sortable="message" (sort)="onSort($event)">Messages</th>
                            <th scope="col">Finalize</th>
                            <th scope="col">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td scope="row">BC</td>
                            <td scope="row">BC</td>
                            <td scope="row">BC</td>
                            <td scope="row">BC</td>
                            <td scope="row">BC</td>
                            <td scope="row"> <a class="btn btn-primary btn-lg btn-round"
                                routerLink="/userprofile/ratingform">finalize</a> </td>
                          </tr>
                        </tbody>
                      </table>
                    </form>

                  </div>
                </div>
              </div>
              <!-- /Broadcast Table -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



</div>